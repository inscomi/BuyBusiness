<section class="setting-page">
  <div class="container">
    <div class="set-margin" id="setting-tab">
      <ngb-tabset class="mb-3">
        <ngb-tab title="Edit Profile">
          <ng-template ngbTabContent>
            <div class="common-form">
              <h5 class="text-uppercase text-profile text-center m-3">edit profile</h5>
              <div class="set-profile">
                <label class="hoverable" for="fileInput">
                  <img [src]="url ? url : 'https://www.w3schools.com/howto/img_avatar.png'" class="set-img">
                  <div class="background-hover text-center">
                    <i class="fa fa-camera" aria-hidden="true"></i>
                  </div>
                </label>
                <input id="fileInput" type='file' (change)="detectFiles($event)" name="myfile"
                  class="custom-file-input">
              </div>
              <h6 class="text-uppercase">public profile</h6>
              <form class="form-border" [formGroup]="editProfile" #f="ngForm" (ngSubmit)="onSend()">
                <div class="row">
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Username" error-set formControlName="userName"
                          [ngClass]="{'error-profile':editProfile.controls.userName.invalid && (submitted || editProfile.controls.userName.touched)}">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['userName'].errors?.required && (submitted || editProfile.controls['userName'].touched)">
                        User Name Required</p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Firstname" error-set formControlName="firstName">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['firstName'].errors?.required && (submitted || editProfile.controls['firstName'].touched)">
                        User Name Required</p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Lastname" error-set formControlName="lastName">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['lastName'].errors?.required && (submitted || editProfile.controls['lastName'].touched)">
                        Last Name Required</p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Website" error-set formControlName="webSite">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['webSite'].errors?.required && (submitted || editProfile.controls['webSite'].touched)">
                        Enter Your Website </p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Tell About Yourself" error-set formControlName="about">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['about'].errors?.required && (submitted || editProfile.controls['about'].touched)">
                        Enter Your Website </p>
                    </div>
                  </div>
                </div>
                <h6 class="text-uppercase">location</h6>
                <div class="row">
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <mat-select required formControlName="country"
                          (ngModelChange)=getStatesRelatedToCountry($event)>
                          <mat-option value="" disabled="disabled" selected="selected">Please select a Country
                          </mat-option>
                          <mat-option value="{{ country._id }}" *ngFor="let country of countries">
                            {{country.CountryName}}
                          </mat-option>
                        </mat-select>
                        <mat-label><b> Country</b></mat-label>
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['country'].errors?.required && (submitted || editProfile.controls['country'].touched)">
                        Enter Your Website </p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <mat-select required formControlName="region" (ngModelChange)=getCitiesRelatedToCountry($event)>
                          <mat-option value="" disabled="disabled" selected="selected">Please select a Region
                          </mat-option>
                          <mat-option value="{{ state._id }}" *ngFor="let state of states">{{state.StateName}}
                          </mat-option>
                        </mat-select>
                        <mat-label><b> Region</b></mat-label>
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['region'].errors?.required && (submitted || editProfile.controls['region'].touched)">
                        Enter Your Region </p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <mat-select required formControlName="city">
                          <mat-option value="" disabled="disabled" selected="selected">Please select a City</mat-option>
                          <mat-option value="{{ city._id }}" *ngFor="let city of cities">{{city.CityName}}</mat-option>
                        </mat-select>
                        <mat-label><b> City</b></mat-label>
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['city'].errors?.required && (submitted || editProfile.controls['city'].touched)">
                        Enter Your city </p>
                    </div>
                  </div>
                </div>
                <h6 class="text-uppercase">Private Profile</h6>
                <div class="row">
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Username" error-set formControlName="privateName">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['privateName'].errors?.required && (submitted || editProfile.controls['privateName'].touched)">
                        Enter Your User Name </p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <input matInput placeholder="Enter Your Firstname" error-set formControlName="privateFirstName">
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['privateFirstName'].errors?.required && (submitted || editProfile.controls['privateFirstName'].touched)">
                        Enter Your User Name </p>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group form-custom">
                      <mat-form-field class="example-full-width set-border">
                        <mat-select required formControlName="PrivateCity">
                          <mat-option>-- None --</mat-option>
                          <mat-option value="option">Option</mat-option>
                        </mat-select>
                        <mat-label><b> City</b></mat-label>
                      </mat-form-field>
                      <p class="err"
                        *ngIf="editProfile.controls['PrivateCity'].errors?.required && (submitted || editProfile.controls['PrivateCity'].touched)">
                        Enter Your City </p>
                    </div>
                  </div>
                </div>
                <div class="form-group text-center">
                  <button mat-raised-button color="primary" type="submit">Send</button>
                </div>
              </form>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Change Password">
          <ng-template ngbTabContent>
            <div class="common-form">
              <h5 class="text-uppercase text-password text-center m-5">change password</h5>
              <div class="mb-2">
                <form class="form-border" [formGroup]="changePassword" #f="ngForm" (ngSubmit)="submitPassword()">
                  <div class="form-group form-custom">
                    <mat-form-field class="example-full-width set-border">
                      <input matInput placeholder="Current Password" error-set formControlName="oldPassword"
                        [ngClass]="{'error-profile':changePassword.controls.oldPassword.invalid && (submitted || changePassword.controls.oldPassword.touched)}">
                    </mat-form-field>
                    <p class="err"
                      *ngIf="changePassword.controls['oldPassword'].errors?.required && (submitted || changePassword.controls['oldPassword'].touched)">
                      Enter Your Current password </p>
                  </div>
                  <div class="form-group form-custom">
                    <mat-form-field class="example-full-width set-border">
                      <input matInput placeholder="New Password" error-set formControlName="newPassword"
                        [ngClass]="{'error-profile':changePassword.controls.newPassword.invalid && (submitted || changePassword.controls.newPassword.touched)}">
                    </mat-form-field>
                    <p class="err"
                      *ngIf="changePassword.controls['newPassword'].errors?.required && (submitted || changePassword.controls['newPassword'].touched)">
                      Enter Your New password </p>
                  </div>
                  <div class="form-group form-custom">
                    <mat-form-field class="example-full-width set-border">
                      <input matInput placeholder="Confirm Password" error-set formControlName="passwordRepeat"
                        [ngClass]="{'error-profile':changePassword.controls.passwordRepeat.invalid && (submitted || changePassword.controls.passwordRepeat.touched)}">
                    </mat-form-field>
                    <p class="err"
                      *ngIf="changePassword.controls['passwordRepeat'].errors?.required && (submitted || changePassword.controls['passwordRepeat'].touched)">
                      Confirm Your password </p>
                    <p class="err">{{ error }}</p>
                  </div>
                  <div class="row">
                    <div class="form-group text-center col-sm-12">
                      <button mat-raised-button color="primary" type="submit">Reset</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Notification Settings">
          <ng-template ngbTabContent>
            <div class="common-form">
              <h5 class="text-uppercase text-notify text-center m-5">Notification Settings</h5>
              <div class="mb-2">
                <form class="form-border">
                  <h5 class="mb-5">Email Notifications</h5>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                </form>
              </div>
              <div class="mb-2">
                <form class="form-border">
                  <h5>Push Notifications</h5>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                </form>
              </div>
              <div class="row">
                <div class="form-group text-center col-sm-12">
                  <button mat-raised-button color="primary">Save</button>
                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Data & Privacy Settings">
          <ng-template ngbTabContent>
            <div class="common-form">
              <h5 class="text-uppercase text-privacy text-center m-5">Data & Privacy Settings</h5>
              <div class="mb-2">
                <form class="form-border">
                  <h5 class="mb-5">Privacy Preferences</h5>
                  <p>Carousell may share information that do not constitute personal data with our our advertising and
                    analytics partners. This contributes to Carousellâ€™s business sustainability in the long run, so that
                    we can keep our basic features free for all users. Thank you for your support. More info</p>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                </form>
              </div>
              <div class="mb-2">
                <form class="form-border">
                  <h6>Advertising Preferences</h6>
                  <p>If you turn off the settings below, you'll still see the same number of ads, but they may be less
                    relevant to you.</p>
                  <div class="form-group form-custom">
                    <mat-checkbox>Success Listing</mat-checkbox>
                  </div>
                  <p>Carousell may use your information to serve you more relevant content. More info</p>
                  <h6 class="text-primary">Manage Cookies on Carousell web</h6>
                </form>
              </div>
              <div class="mb-2">
                <form class="form-border">
                  <h6>Survey Preferences</h6>
                  <div class="form-group form-custom">
                    <mat-checkbox>Participate in external surveys</mat-checkbox>
                  </div>
                </form>
              </div>

              <div class="row">
                <div class="form-group text-center col-sm-12">
                  <button mat-raised-button color="primary">Save</button>
                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="More">
          <ng-template ngbTabContent>
            <div class="common-form">
              <h5 class="text-uppercase text-notify text-center m-5">More</h5>
              <div class="mb-2">
                <form class="form-border">
                  <h5>Reserve item</h5>
                  <div class="form-group form-custom">
                    <h5 class="mb-5">Auto-reserve items</h5>
                    <mat-checkbox>We mark an item as reserved when you accepted an offer</mat-checkbox>
                  </div>
                </form>
              </div>
              <div class="row">
                <div class="form-group text-center col-sm-12">
                  <button mat-raised-button color="primary">Save</button>
                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
</section>